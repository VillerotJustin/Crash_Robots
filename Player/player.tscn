[gd_scene load_steps=16 format=3 uid="uid://bmwupovosbo67"]

[ext_resource type="Script" uid="uid://dfnlnueh40eft" path="res://Player/player.gd" id="1_l8h54"]
[ext_resource type="PackedScene" uid="uid://brwd67tms5gu5" path="res://Player/Bullet/bullet.tscn" id="2_btcbx"]
[ext_resource type="Texture2D" uid="uid://bcg6gbqbrj83y" path="res://Player/Assets/robot_idle.png" id="3_k53q1"]
[ext_resource type="Texture2D" uid="uid://xykldj0mrmgl" path="res://Player/Assets/robot_walk.png" id="4_fhl08"]
[ext_resource type="PackedScene" uid="uid://lakgih1sq308" path="res://Player/Drill/drill.tscn" id="4_gwnis"]

[sub_resource type="AtlasTexture" id="AtlasTexture_vtle1"]
atlas = ExtResource("3_k53q1")
region = Rect2(0, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_od3ui"]
atlas = ExtResource("3_k53q1")
region = Rect2(80, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_00tjw"]
atlas = ExtResource("3_k53q1")
region = Rect2(160, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3vf3"]
atlas = ExtResource("3_k53q1")
region = Rect2(240, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_apopc"]
atlas = ExtResource("4_fhl08")
region = Rect2(0, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_5htga"]
atlas = ExtResource("4_fhl08")
region = Rect2(80, 0, 80, 120)

[sub_resource type="AtlasTexture" id="AtlasTexture_p5o4e"]
atlas = ExtResource("4_fhl08")
region = Rect2(160, 0, 80, 120)

[sub_resource type="SpriteFrames" id="SpriteFrames_gu6f8"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vtle1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_od3ui")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_00tjw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3vf3")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_apopc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5htga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p5o4e")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_btcbx"]
size = Vector2(25, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k53q1"]
size = Vector2(57, 88)

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("player_center", "battery_timer", "drill")]
collision_mask = 27
script = ExtResource("1_l8h54")
Bullet_Packed_Scene = ExtResource("2_btcbx")
player_center = NodePath("PlayerCenter")
battery_timer = NodePath("Battery")
drill = NodePath("Drill")
distance_from_center = 20.0

[node name="VisibleOnScreenNotifier2D" type="VisibleOnScreenNotifier2D" parent="."]
rect = Rect2(-38, -58, 77, 114)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_gu6f8")
animation = &"walk"

[node name="CollisionShape2D2" type="CollisionShape2D" parent="."]
position = Vector2(0.5, 47)
shape = SubResource("RectangleShape2D_btcbx")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]

[node name="PlayerCenter" type="Marker2D" parent="."]

[node name="DashDuration" type="Timer" parent="."]

[node name="Drill" parent="." instance=ExtResource("4_gwnis")]
visible = false
position = Vector2(24, 0)
rotation = 1.5707964
monitoring = false

[node name="Battery" type="Timer" parent="."]
wait_time = 60.0

[node name="Battery" type="Timer" parent="Battery"]
wait_time = 60.0

[node name="Hit_Box" type="Area2D" parent="."]
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hit_Box"]
position = Vector2(1.5, 10)
shape = SubResource("RectangleShape2D_k53q1")

[connection signal="screen_exited" from="VisibleOnScreenNotifier2D" to="." method="_on_visible_on_screen_notifier_2d_screen_exited"]
[connection signal="timeout" from="DashDuration" to="." method="_on_dash_end"]
[connection signal="timeout" from="Battery" to="." method="_on_battery_timeout"]
[connection signal="body_entered" from="Hit_Box" to="." method="_on_hit_box_body_entered"]
